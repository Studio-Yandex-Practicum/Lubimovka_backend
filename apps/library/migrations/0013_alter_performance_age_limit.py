# Generated by Django 3.2.12 on 2022-03-15 20:35
import random

from django.db import migrations, models

from apps.core.constants import AgeLimit

def set_age_limit(apps, schema_editor):
    Performance = apps.get_model("library", "Performance")
    qs = Performance.objects.all()
    for performance in qs:
        performance.age_limit = random.choice(list(AgeLimit))
        performance.save()


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0012_auto_20220228_2041'),
    ]

    operations = [
        migrations.AlterField(
            model_name='performance',
            name='age_limit',
            field=models.IntegerField(choices=[(0, '0+'), (6, '6+'), (12, '12+'), (13, '13+'), (16, '16+'), (17, '17+'), (18, '18+')], default=0, verbose_name='Возрастное ограничение'),
        ),
        migrations.RunPython(
            set_age_limit,
        )
    ]
